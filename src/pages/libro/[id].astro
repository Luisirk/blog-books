---
import { getCollection, render } from "astro:content";  
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths(){
    const books = await getCollection("books");

    return books.map((book)=>({
        params: {id: book.slug},
        props: {book}
    }))
}

const {book}= Astro.props
const {data, slug}= book
const {title, author, img, pages, description, buy}= data

const { Content }= await render (book)

    
---
<Layout title={`${title}`}>
    <div class="flex gap-12 ">
        <aside class="flex flex-col items-center gap-4">
            <img class="rounded w-90 h-auto" src={`/${img}`}>

        </aside>
        <main class="max-w-4xl">
            <h1 class="text-4xl font-bold mb-4">{title}</h1>
            <div class="">
                <Content/>
            </div>

        </main>
    </div>

</Layout>